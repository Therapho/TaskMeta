<FluentCard>
    <EditForm OnValidSubmit="@HandleSave" FormName="deposit" EditContext="editContext">
        
        <FluentGrid> 
            @if (EditMode == EditMode.Transfer || EditMode == EditMode.Withdraw)
            {
                <FluentGridItem xs="12" md="3">
                    <FluentSelect Value="@transaction.SourceFund?.Id.ToString()"  Label="Source Fund" Items="@fundList" ValueChanged="HandleSourceFundChanged"
                                OptionText="@(f=>f.Name)" OptionValue="@(f=>f.Id.ToString())" Style="width:100%" />
                    
                </FluentGridItem>
            }
            @if (EditMode == EditMode.Transfer || EditMode == EditMode.Deposit)
            {
                <FluentGridItem xs="12" md="3">
                    <FluentSelect Value="@transaction.TargetFund?.Id.ToString()" Label="Target Fund" Items="@fundList" ValueChanged="HandleTargetFundChanged"
                            OptionText="@(f=>f.Name)" OptionValue="@(f=>f.Id.ToString())" Style="width:100%" />
                    
                </FluentGridItem>   
            }
            <FluentGridItem xs="12" md="3">
                <FluentNumberField Label="Amount" @bind-Value="transaction.Amount" Style="width:100%" />
                
            </FluentGridItem>
            <FluentGridItem xs="12" md="6">
                <FluentTextField Label="Description" @bind-Value="transaction.Description" Style="width:100%" />
                
            </FluentGridItem>
            <FluentGridItem xs="12" md="6">
                <FluentButton Type="ButtonType.Submit" ButtonType="Primary">Save</FluentButton>
                <FluentButton OnClick="HandleCancel">Cancel</FluentButton>
            </FluentGridItem>
            <FluentGridItem xs="12">
                <ValidationSummary For="@(() => transaction)" />
            </FluentGridItem>
        </FluentGrid>
    </EditForm>
</FluentCard>